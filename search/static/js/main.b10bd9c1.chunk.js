(this.webpackJsonpsample=this.webpackJsonpsample||[]).push([[0],{20:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),s=a(3),o=a(16),u=a.n(o),i=a(60),m=a(17);function p(e){return r.a.createElement("div",{className:"article-row"},r.a.createElement("article",{className:"article article-summary"},r.a.createElement("div",{className:"article-summary-inner"},r.a.createElement("h2",{className:"article-title"},r.a.createElement("a",{href:"/".concat(e.document.path),className:"title"},e.document.title)),r.a.createElement("p",{className:"article-excerpt"},e.document.excerpt))))}function d(e){var t=e.documents.map((function(e,t){return r.a.createElement(p,{key:t,document:e.document})}));return r.a.createElement(r.a.Fragment,null,t)}function h(e){var t=Math.ceil(e.resultCount/e.resultsPerPage);var a,n,c=0,l=[],s=1,o=t;for(e.currentPage-s>2&&(s=e.currentPage-2),o-e.currentPage>2&&(o=parseInt(e.currentPage)+2),s>=2&&l.push(r.a.createElement("a",{className:"page-number",href:"",onClick:function(t){t.preventDefault(),e.setCurrentPage(1)},key:"1"},"1")),s>2&&l.push(r.a.createElement("span",{className:"space",key:"space"},"\u2026")),c=s;c<=o;c++)c===parseInt(e.currentPage)?l.push(r.a.createElement("span",{className:"page-number current",key:c},c)):l.push(r.a.createElement("a",{className:"page-number",href:"",onClick:function(){var t=c;return function(a){a.preventDefault(),e.setCurrentPage(t)}}(),key:c},c));return o<t-1&&l.push(r.a.createElement("span",{className:"space",key:"space"},"\u2026")),o<=t-1&&l.push(r.a.createElement("a",{className:"page-number",href:"",onClick:function(a){a.preventDefault(),e.setCurrentPage(t)},key:t},t)),1!==parseInt(e.currentPage)&&(a=r.a.createElement("a",{className:"extend prev",rel:"prev",href:"",onClick:function(t){t.preventDefault(),e.setCurrentPage(e.currentPage-1)}},"\xab")),parseInt(e.currentPage)!==t&&(n=r.a.createElement("a",{className:"extend next",rel:"next",href:"",onClick:function(t){t.preventDefault(),e.setCurrentPage(e.currentPage+1)}},"\xbb")),t>0&&r.a.createElement("nav",{id:"page-nav"},r.a.createElement("span",{className:"pages"},"Page ",e.currentPage," of ",t),a,l,n)}function f(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){l(e.searchPhrase)}),[e.searchPhrase]);var o=function(){if(e.setSearchPhrase(c),window.history.pushState){var t=window.location.origin+window.location.pathname+"?q="+c;window.location.href!==t&&window.history.pushState("search-phrase","",t)}};return r.a.createElement("div",{onKeyDown:function(e){13===e.keyCode&&o()},style:{position:"relative"}},r.a.createElement("input",{autoComplete:"off",type:"text",id:"search-box",onChange:function(){var e=document.getElementById("search-box").value;l(e)},value:c,style:{padding:10,fontSize:38,letterSpacing:-1,color:"rgb(85, 85, 85)",lineHeight:"1.3em",boxSizing:"border-box",width:"calc(100% - 80px)",border:"1px #3b8dbd solid",outline:"none",WebkitApperance:"none",borderRadius:0}}),r.a.createElement("button",{type:"submit",onClick:o,style:{width:"80px",border:"1px #3b8dbd solid",backgroundColor:"#3b8dbd",color:"#fafafa",padding:12,fontSize:38,position:"absolute",cursor:"pointer",height:"100%"}},r.a.createElement("i",{id:"icon-search",className:"icon"})))}Object(n.createContext)();function b(){var e,t,a=window.location,c=Object(n.useState)(null!==(e=new URLSearchParams(a.search).get("q"))&&void 0!==e?e:""),l=Object(s.a)(c,2),o=l[0],p=l[1],b=Object(n.useState)(1),g=Object(s.a)(b,2),E=g[0],v=g[1],P=Object(n.useState)([]),y=Object(s.a)(P,2),j=y[0],w=y[1],O=Object(n.useState)(0),S=Object(s.a)(O,2),k=S[0],C=S[1],x=Object(n.useState)(null!==(t=new URLSearchParams(a.search).get("top"))&&void 0!==t?t:5),N=Object(s.a)(x,1)[0],D=Object(n.useState)(!0),I=Object(s.a)(D,2),q=I[0],R=I[1],z=Object(n.useState)(!0),L=Object(s.a)(z,2),U=L[0],B=L[1],J=function(e,t){var a={q:e,top:N,skip:(t-1)*N};R(!0),B(!1),u.a.post("https://fa-developerschallenges.azurewebsites.net/api/search",a).then((function(e){w(e.data.results),C(e.data.count),R(!1)})).catch((function(e){console.log(e),R(!1),B(!0)}))};Object(n.useEffect)((function(){1===E?J(o,E):v(1)}),[o]),Object(n.useEffect)((function(){J(o,E)}),[E]);var M;M=q?r.a.createElement("div",{style:{position:"absolute",top:16,left:"calc(100% - 136px)"}},r.a.createElement(i.a,null)):U?r.a.createElement("div",null,r.a.createElement("p",null,"Error fetching results")):r.a.createElement("div",null,r.a.createElement(d,{documents:j}),r.a.createElement(h,{currentPage:E,resultCount:k,resultsPerPage:N,setCurrentPage:v}));var A=function(){var e,t=null!==(e=new URLSearchParams(a.search).get("q"))&&void 0!==e?e:"";p(t)};return Object(m.a)(null,!1,A,A),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(f,{searchPhrase:o,setSearchPhrase:p}),M)}function g(){return r.a.createElement(b,null)}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b10bd9c1.chunk.js.map